# –ó–∞–¥–∞—á–∞: –ü–∞–Ω–µ–ª—å –∏—Å—Ç–æ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π –∏ –æ—Ç–ª–∞–¥–∫–∏

## –¶–µ–ª—å
–î–æ–±–∞–≤–∏—Ç—å –≤—ã–¥–≤–∏–∂–Ω—É—é –ø–∞–Ω–µ–ª—å —Å–Ω–∏–∑—É —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Å—Ö–µ–º —Å –¥–≤—É–º—è —Ä–µ–∂–∏–º–∞–º–∏:
1. **–ò—Å—Ç–æ—Ä–∏—è** - –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤
2. **–û—Ç–ª–∞–¥–∫–∞** - –ø–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## –í–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω

### –†–µ–∂–∏–º 1: –ò—Å—Ç–æ—Ä–∏—è (–ø–∞—Å—Å–∏–≤–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä)
```
‚îå‚îÄ üìä –ò—Å—Ç–æ—Ä–∏—è | üêõ –û—Ç–ª–∞–¥–∫–∞ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                                                ‚îÇ
‚îÇ ‚îå‚îÄ –ó–∞–ø—É—Å–∫–∏ ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ –®–∞–≥–∏ | –õ–æ–≥–∏ | –ö–æ–Ω—Ç–µ–∫—Å—Ç ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ 05.12 14:23  ‚îÇ  ‚îÇ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —à–∞–≥–æ–≤              ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‚úì –£—Å–ø–µ—Ö      ‚îÇ  ‚îÇ                                         ‚îÇ ‚îÇ
‚îÇ ‚îÇ              ‚îÇ  ‚îÇ                                         ‚îÇ ‚îÇ
‚îÇ ‚îÇ 04.12 12:10  ‚îÇ  ‚îÇ                                         ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‚úó –û—à–∏–±–∫–∞     ‚îÇ  ‚îÇ                                         ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –†–µ–∂–∏–º 2: –û—Ç–ª–∞–¥–∫–∞ (–∞–∫—Ç–∏–≤–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)
```
‚îå‚îÄ üìä –ò—Å—Ç–æ—Ä–∏—è | üêõ –û—Ç–ª–∞–¥–∫–∞ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ: –®–∞–≥ 3 –∏–∑ 5      ‚è∏Ô∏è –ü–∞—É–∑–∞ | ‚è≠Ô∏è –®–∞–≥ | ‚ñ∂Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ ‚îå‚îÄ –®–∞–≥–∏ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ –®–∞–≥–∏ | –õ–æ–≥–∏ | –ö–æ–Ω—Ç–µ–∫—Å—Ç ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ ‚úì Start      ‚îÇ  ‚îÇ –¢–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏     ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‚úì Set Var    ‚îÇ  ‚îÇ {                                       ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‚ö° Math ‚Üê     ‚îÇ  ‚îÇ   "n": 5,                               ‚îÇ ‚îÇ
‚îÇ ‚îÇ   Log        ‚îÇ  ‚îÇ   "p": 0                                ‚îÇ ‚îÇ
‚îÇ ‚îÇ   End        ‚îÇ  ‚îÇ }                                       ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### 1. ExecutionPanel.jsx (–≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `front-end/src/components/ExecutionPanel.jsx`

**Props:**
- `schemaId` - ID —Ç–µ–∫—É—â–µ–π —Å—Ö–µ–º—ã
- `isOpen` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–∞–Ω–µ–ª–∏ (–æ—Ç–∫—Ä—ã—Ç–∞/–∑–∞–∫—Ä—ã—Ç–∞)
- `onToggle` - callback –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è

**State:**
- `mode` - 'history' | 'debug'
- `selectedExecution` - ID –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- `selectedStep` - ID –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —à–∞–≥–∞
- `height` - –≤—ã—Å–æ—Ç–∞ –ø–∞–Ω–µ–ª–∏ (–¥–ª—è resize)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```jsx
<div className="execution-panel">
  {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–º —Ä–µ–∂–∏–º–æ–≤ */}
  <div className="panel-header">
    <button onClick={() => setMode('history')}>üìä –ò—Å—Ç–æ—Ä–∏—è</button>
    <button onClick={() => setMode('debug')}>üêõ –û—Ç–ª–∞–¥–∫–∞</button>
    <button className="panel-toggle" onClick={onToggle}>‚ñº</button>
  </div>

  {/* –ö–æ–Ω—Ç–µ–Ω—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞ */}
  <div className="panel-content">
    {mode === 'history' ? (
      <HistoryMode schemaId={schemaId} />
    ) : (
      <DebugMode schemaId={schemaId} />
    )}
  </div>
</div>
```

---

### 2. HistoryMode.jsx
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `front-end/src/components/execution/HistoryMode.jsx`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –∑–∞–ø—É—Å–∫–æ–≤ –∏–∑ `GET /api/executions?schema_id={schemaId}`
- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —Å–ø–∏—Å–æ–∫ –∑–∞–ø—É—Å–∫–æ–≤
- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —Ç—Ä–∏ –≤–∫–ª–∞–¥–∫–∏ (–®–∞–≥–∏ | –õ–æ–≥–∏ | –ö–æ–Ω—Ç–µ–∫—Å—Ç)
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∑–∞–ø—É—Å–∫ ‚Üí –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —à–∞–≥–∏
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —à–∞–≥ ‚Üí –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –Ω–æ–¥–∞ –Ω–∞ —Å—Ö–µ–º–µ + –∫–æ–Ω—Ç–µ–∫—Å—Ç —ç—Ç–æ–≥–æ —à–∞–≥–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```jsx
<div className="history-mode">
  {/* –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —Å–ø–∏—Å–æ–∫ –∑–∞–ø—É—Å–∫–æ–≤ */}
  <div className="executions-list">
    <h4>–ó–∞–ø—É—Å–∫–∏</h4>
    <div className="executions-scroll">
      {executions.map(exec => (
        <ExecutionItem 
          key={exec.id}
          execution={exec}
          isSelected={selectedExecution === exec.id}
          onClick={() => handleSelectExecution(exec.id)}
        />
      ))}
    </div>
  </div>

  {/* –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –≤–∫–ª–∞–¥–∫–∏ */}
  <div className="execution-details">
    <div className="tabs">
      <button onClick={() => setTab('steps')}>–®–∞–≥–∏</button>
      <button onClick={() => setTab('logs')}>–õ–æ–≥–∏</button>
      <button onClick={() => setTab('context')}>–ö–æ–Ω—Ç–µ–∫—Å—Ç</button>
    </div>

    <div className="tab-content">
      {tab === 'steps' && <StepsTab executionId={selectedExecution} />}
      {tab === 'logs' && <LogsTab executionId={selectedExecution} />}
      {tab === 'context' && <ContextTab executionId={selectedExecution} stepId={selectedStep} />}
    </div>
  </div>
</div>
```

**API –∑–∞–ø—Ä–æ—Å—ã:**
```javascript
// –°–ø–∏—Å–æ–∫ –∑–∞–ø—É—Å–∫–æ–≤
GET /api/executions?schema_id={schemaId}

// –î–µ—Ç–∞–ª–∏ –∑–∞–ø—É—Å–∫–∞ —Å–æ –≤—Å–µ–º–∏ —à–∞–≥–∞–º–∏
GET /api/executions/{executionId}

// –û—Ç–≤–µ—Ç:
{
  "id": "uuid",
  "schema_id": "uuid",
  "status": "completed",
  "started_at": "2025-12-05T14:23:45Z",
  "finished_at": "2025-12-05T14:23:50Z",
  "steps": [
    {
      "id": "uuid",
      "node_id": "start_1",
      "node_type": "start",
      "status": "success",
      "started_at": "...",
      "finished_at": "...",
      "context_snapshot": { "n": 5, "p": 0 }
    },
    // ...
  ]
}
```

---

### 3. DebugMode.jsx
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `front-end/src/components/execution/DebugMode.jsx`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ó–∞–ø—É—Å–∫ —Å—Ö–µ–º—ã –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ü–∞—É–∑–∞ | –®–∞–≥ | –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```jsx
<div className="debug-mode">
  {/* –°—Ç–∞—Ç—É—Å –∏ –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */}
  <div className="debug-controls">
    <div className="debug-status">
      –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ: –®–∞–≥ {currentStep} –∏–∑ {totalSteps}
    </div>
    <div className="debug-buttons">
      <button onClick={handlePause}>‚è∏Ô∏è –ü–∞—É–∑–∞</button>
      <button onClick={handleNextStep}>‚è≠Ô∏è –®–∞–≥</button>
      <button onClick={handleContinue}>‚ñ∂Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
    </div>
  </div>

  {/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */}
  <div className="debug-content">
    {/* –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ø—Ä–æ–≥—Ä–µ—Å—Å */}
    <div className="debug-progress">
      <h4>–®–∞–≥–∏</h4>
      {steps.map((step, idx) => (
        <div 
          key={idx} 
          className={`step-item ${getStepStatus(idx)}`}
        >
          {getStepIcon(idx)} {step.label}
        </div>
      ))}
    </div>

    {/* –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –≤–∫–ª–∞–¥–∫–∏ */}
    <div className="debug-details">
      <div className="tabs">
        <button onClick={() => setTab('steps')}>–®–∞–≥–∏</button>
        <button onClick={() => setTab('logs')}>–õ–æ–≥–∏</button>
        <button onClick={() => setTab('context')}>–ö–æ–Ω—Ç–µ–∫—Å—Ç</button>
      </div>

      <div className="tab-content">
        {tab === 'context' && (
          <pre className="context-json">
            {JSON.stringify(currentContext, null, 2)}
          </pre>
        )}
      </div>
    </div>
  </div>
</div>
```

**–õ–æ–≥–∏–∫–∞ –æ—Ç–ª–∞–¥–∫–∏:**
1. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏" ‚Üí `POST /api/executions/debug/{schemaId}`
2. Backend —Å–æ–∑–¥–∞–µ—Ç execution –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤–æ–º —à–∞–≥–µ
3. Frontend –ø–æ–ª—É—á–∞–µ—Ç execution_id
4. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–®–∞–≥" ‚Üí `POST /api/executions/{executionId}/step`
5. Backend –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–¥–∏–Ω —à–∞–≥, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
6. Frontend –æ–±–Ω–æ–≤–ª—è–µ—Ç UI + –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –Ω–æ–¥ –Ω–∞ —Å—Ö–µ–º–µ

**API –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:**
```javascript
// –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏
POST /api/executions/debug/{schemaId}
Response: { execution_id: "uuid", current_step: {...} }

// –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–¥–∏–Ω —à–∞–≥
POST /api/executions/{executionId}/step
Response: { 
  current_step: {...},
  context: {...},
  is_finished: false
}

// –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
POST /api/executions/{executionId}/continue

// –ü–∞—É–∑–∞
POST /api/executions/{executionId}/pause
```

---

### 4. –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### ExecutionItem.jsx
–û–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –≤ —Å–ø–∏—Å–∫–µ –∑–∞–ø—É—Å–∫–æ–≤
```jsx
<div className="execution-item">
  <div className="execution-time">05.12.2025 14:23:45</div>
  <div className="execution-status">
    {status === 'completed' ? '‚úì –£—Å–ø–µ—Ö' : '‚úó –û—à–∏–±–∫–∞'}
  </div>
  <div className="execution-duration">5 —à–∞–≥–æ–≤ | 2.3—Å</div>
</div>
```

#### StepsTab.jsx
–°–ø–∏—Å–æ–∫ —à–∞–≥–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
```jsx
<div className="steps-list">
  {steps.map(step => (
    <div 
      key={step.id} 
      className="step-row"
      onClick={() => onSelectStep(step.id)}
    >
      <span className="step-icon">{getNodeIcon(step.node_type)}</span>
      <span className="step-name">{step.node_id}</span>
      <span className="step-status">{step.status}</span>
      <span className="step-time">{formatDuration(step)}</span>
    </div>
  ))}
</div>
```

#### LogsTab.jsx
–õ–æ–≥–∏ –æ—Ç Log-–Ω–æ–¥–æ–≤
```jsx
<div className="logs-list">
  {logs.map(log => (
    <div key={log.id} className="log-entry">
      <span className="log-time">{formatTime(log.timestamp)}</span>
      <span className="log-message">{log.message}</span>
    </div>
  ))}
</div>
```

#### ContextTab.jsx
JSON-–∫–æ–Ω—Ç–µ–∫—Å—Ç —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
```jsx
<pre className="context-viewer">
  <code>{JSON.stringify(context, null, 2)}</code>
</pre>
```

---

## –°—Ç–∏–ª–∏ (ExecutionPanel.css)

### –û–±—â–∏–µ —Å—Ç–∏–ª–∏ –ø–∞–Ω–µ–ª–∏
```css
/* –í—ã–¥–≤–∏–∂–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å–Ω–∏–∑—É */
.execution-panel {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: white;
  border-top: 2px solid var(--gray-300);
  box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  z-index: 100;
  transition: height 0.3s ease;
}

.execution-panel.closed {
  height: 40px;
}

.execution-panel.open {
  height: 400px;
  min-height: 300px;
  max-height: 70vh;
  resize: vertical;
  overflow: hidden;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∞–Ω–µ–ª–∏ */
.panel-header {
  height: 40px;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 0 16px;
  border-bottom: 1px solid var(--gray-200);
  background: var(--gray-50);
}

.panel-header button {
  padding: 6px 12px;
  border: none;
  background: transparent;
  cursor: pointer;
  border-radius: 4px;
  font-size: 14px;
  transition: background 0.2s;
}

.panel-header button.active {
  background: white;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.panel-toggle {
  margin-left: auto;
  font-size: 16px;
}

/* –ö–æ–Ω—Ç–µ–Ω—Ç –ø–∞–Ω–µ–ª–∏ */
.panel-content {
  flex: 1;
  display: flex;
  overflow: hidden;
}
```

### –†–µ–∂–∏–º –∏—Å—Ç–æ—Ä–∏–∏
```css
.history-mode {
  display: flex;
  width: 100%;
  height: 100%;
}

/* –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —Å–ø–∏—Å–æ–∫ –∑–∞–ø—É—Å–∫–æ–≤ */
.executions-list {
  width: 30%;
  min-width: 250px;
  border-right: 1px solid var(--gray-200);
  display: flex;
  flex-direction: column;
  background: var(--gray-50);
}

.executions-list h4 {
  padding: 12px 16px;
  margin: 0;
  font-size: 13px;
  color: var(--gray-600);
  background: var(--gray-100);
  border-bottom: 1px solid var(--gray-200);
}

.executions-scroll {
  flex: 1;
  overflow-y: auto;
  padding: 8px;
}

.execution-item {
  padding: 12px;
  margin-bottom: 4px;
  background: white;
  border: 1px solid var(--gray-200);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s;
}

.execution-item:hover {
  border-color: var(--primary);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.execution-item.selected {
  border-color: var(--primary);
  background: var(--primary-light);
}

.execution-time {
  font-size: 12px;
  color: var(--gray-600);
  margin-bottom: 4px;
}

.execution-status {
  font-size: 14px;
  font-weight: 500;
  margin-bottom: 4px;
}

.execution-status.success {
  color: var(--success);
}

.execution-status.error {
  color: var(--danger);
}

.execution-duration {
  font-size: 11px;
  color: var(--gray-500);
}

/* –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –¥–µ—Ç–∞–ª–∏ */
.execution-details {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.tabs {
  display: flex;
  gap: 4px;
  padding: 8px 16px;
  background: var(--gray-50);
  border-bottom: 1px solid var(--gray-200);
}

.tabs button {
  padding: 6px 16px;
  border: none;
  background: transparent;
  border-radius: 4px;
  font-size: 13px;
  cursor: pointer;
  transition: background 0.2s;
}

.tabs button.active {
  background: white;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.tab-content {
  flex: 1;
  overflow-y: auto;
  padding: 16px;
}
```

### –í–∫–ª–∞–¥–∫–∞ –®–∞–≥–∏
```css
.steps-list {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.step-row {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  background: var(--gray-50);
  border: 1px solid var(--gray-200);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s;
}

.step-row:hover {
  background: white;
  border-color: var(--primary);
}

.step-row.selected {
  background: var(--primary-light);
  border-color: var(--primary);
}

.step-icon {
  font-size: 18px;
}

.step-name {
  flex: 1;
  font-size: 13px;
  font-weight: 500;
  color: var(--gray-700);
}

.step-status {
  font-size: 12px;
  padding: 2px 8px;
  border-radius: 12px;
}

.step-status.success {
  background: var(--success-light);
  color: var(--success-dark);
}

.step-status.error {
  background: var(--danger-light);
  color: var(--danger-dark);
}

.step-time {
  font-size: 11px;
  color: var(--gray-500);
}
```

### –í–∫–ª–∞–¥–∫–∞ –õ–æ–≥–∏
```css
.logs-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  font-family: monospace;
  font-size: 12px;
}

.log-entry {
  display: flex;
  gap: 12px;
  padding: 8px 12px;
  background: var(--gray-50);
  border-left: 3px solid var(--primary);
  border-radius: 4px;
}

.log-time {
  color: var(--gray-500);
  min-width: 80px;
}

.log-message {
  flex: 1;
  color: var(--gray-800);
  word-break: break-word;
}
```

### –í–∫–ª–∞–¥–∫–∞ –ö–æ–Ω—Ç–µ–∫—Å—Ç
```css
.context-viewer {
  margin: 0;
  padding: 16px;
  background: var(--gray-900);
  color: var(--gray-100);
  border-radius: 6px;
  font-family: 'Monaco', 'Consolas', monospace;
  font-size: 12px;
  line-height: 1.6;
  overflow-x: auto;
}

.context-viewer code {
  color: inherit;
}
```

### –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏
```css
.debug-mode {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
}

/* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–∫–æ–π */
.debug-controls {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  background: var(--warning-light);
  border-bottom: 1px solid var(--warning);
}

.debug-status {
  font-size: 14px;
  font-weight: 500;
  color: var(--gray-800);
}

.debug-buttons {
  display: flex;
  gap: 8px;
}

.debug-buttons button {
  padding: 6px 12px;
  border: 1px solid var(--gray-300);
  background: white;
  border-radius: 4px;
  cursor: pointer;
  font-size: 13px;
  transition: all 0.2s;
}

.debug-buttons button:hover {
  background: var(--gray-50);
  border-color: var(--primary);
}

/* –ö–æ–Ω—Ç–µ–Ω—Ç –æ—Ç–ª–∞–¥–∫–∏ */
.debug-content {
  flex: 1;
  display: flex;
  overflow: hidden;
}

.debug-progress {
  width: 30%;
  min-width: 250px;
  border-right: 1px solid var(--gray-200);
  display: flex;
  flex-direction: column;
  background: var(--gray-50);
  overflow-y: auto;
  padding: 12px;
}

.debug-progress h4 {
  margin: 0 0 12px 0;
  font-size: 13px;
  color: var(--gray-600);
}

.step-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  margin-bottom: 4px;
  border-radius: 6px;
  font-size: 13px;
  transition: all 0.2s;
}

.step-item.completed {
  background: var(--success-light);
  color: var(--success-dark);
}

.step-item.current {
  background: var(--warning);
  color: white;
  font-weight: 600;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.step-item.pending {
  color: var(--gray-500);
  background: transparent;
}

.debug-details {
  flex: 1;
  display: flex;
  flex-direction: column;
}
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º

### –í EditorPage.jsx –¥–æ–±–∞–≤–∏—Ç—å:

```jsx
import ExecutionPanel from '../components/ExecutionPanel';

// State
const [isPanelOpen, setIsPanelOpen] = useState(false);

// –í JSX –ø–æ—Å–ª–µ .editor-canvas
<ExecutionPanel 
  schemaId={id}
  isOpen={isPanelOpen}
  onToggle={() => setIsPanelOpen(!isPanelOpen)}
/>
```

### –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –Ω–æ–¥–æ–≤ –Ω–∞ —Å—Ö–µ–º–µ

–ö–æ–≥–¥–∞ –≤—ã–±—Ä–∞–Ω —à–∞–≥ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –∏–ª–∏ —Ç–µ–∫—É—â–∏–π —à–∞–≥ –≤ –æ—Ç–ª–∞–¥–∫–µ:

```jsx
// –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —à–∞–≥–∞ –æ–±–Ω–æ–≤–ª—è–µ–º –Ω–æ–¥—ã
const highlightNode = (nodeId) => {
  setNodes(nodes.map(node => ({
    ...node,
    data: {
      ...node.data,
      highlighted: node.id === nodeId
    }
  })));
};

// –í CustomNode.jsx –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç–∏–ª—å
<div className={`custom-node ${data.highlighted ? 'highlighted' : ''}`}>
  ...
</div>
```

```css
.custom-node.highlighted {
  border: 3px solid var(--warning);
  box-shadow: 0 0 0 4px rgba(251, 191, 36, 0.2);
  animation: pulse 1s infinite;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}
```

---

## –ß–µ–∫–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ UI
- [ ] –°–æ–∑–¥–∞—Ç—å `ExecutionPanel.jsx` —Å –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∏–ª–∏ `ExecutionPanel.css`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ –ø–∞–Ω–µ–ª–∏ (‚ñº/‚ñ≤)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤ (–ò—Å—Ç–æ—Ä–∏—è/–û—Ç–ª–∞–¥–∫–∞)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `EditorPage.jsx`

### –§–∞–∑–∞ 2: –†–µ–∂–∏–º –ò—Å—Ç–æ—Ä–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å `HistoryMode.jsx`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `ExecutionItem.jsx`
- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å API `GET /api/executions`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `StepsTab.jsx`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `LogsTab.jsx`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `ContextTab.jsx`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Å–≤–µ—Ç–∫—É –Ω–æ–¥–æ–≤ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —à–∞–≥–∞

### –§–∞–∑–∞ 3: –†–µ–∂–∏–º –û—Ç–ª–∞–¥–∫–∞
- [ ] –°–æ–∑–¥–∞—Ç—å `DebugMode.jsx`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ü–∞—É–∑–∞/–®–∞–≥/–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å)
- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å API –æ—Ç–ª–∞–¥–∫–∏
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å backend —á–µ—Ä–µ–∑ polling/SSE
- [ ] –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –Ω–æ–¥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏

### –§–∞–∑–∞ 4: –ü–æ–ª–∏—Ä–æ–≤–∫–∞
- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –ø–∞–Ω–µ–ª–∏ (resize)
- [ ] Keyboard shortcuts (Space = —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥, Esc = –∑–∞–∫—Ä—ã—Ç—å)
- [ ] Loading states –∏ —Å–∫–µ–ª–µ—Ç–æ–Ω—ã
- [ ] –ü—É—Å—Ç—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è ("–ù–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π", "–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–ø—É—Å–∫")
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–∞—Ö —ç–∫—Ä–∞–Ω–∞

---

## Backend Requirements

–î–ª—è —Ä–∞–±–æ—Ç—ã –ø–∞–Ω–µ–ª–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

### –ò—Å—Ç–æ—Ä–∏—è
```
GET /api/executions?schema_id={id}&limit=20&offset=0
GET /api/executions/{executionId}
```

### –û—Ç–ª–∞–¥–∫–∞
```
POST /api/executions/debug/{schemaId} - –Ω–∞—á–∞—Ç—å –æ—Ç–ª–∞–¥–∫—É (–≤–æ–∑–≤—Ä–∞—Ç–∏—Ç executionId)
POST /api/executions/{executionId}/step - –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –æ–¥–∏–Ω —à–∞–≥. –¢–æ–µ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π  —à–∞–≥ –∏–∑ executions
```

–≠—Ç–∏ –º–µ—Ç–æ–¥—ã –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–æ—Ç–æ–º, –ø–æ—Ç–æ–º—É –∫–∞–∫ –Ω–µ —Å–æ–≤—Å–µ–º –ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫ —Å –Ω–∏–º–∏ —Ä–∞–±–æ—Ç–∞—Ç—å.
```
POST /api/executions/{executionId}/pause
POST /api/executions/{executionId}/continue
GET  /api/executions/{executionId}/status (polling –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI)
```

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –°—Ç–∞—Ä—ã–π `DebugModal.jsx` –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å
- –¶–≤–µ—Ç–∞ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ò–∫–æ–Ω–∫–∏: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç–º–æ–¥–∑–∏ –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Ç–∏–ø–∞ `lucide-react`
- –î–ª—è JSON-–ø–æ–¥—Å–≤–µ—Ç–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `react-json-view` –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ `<pre>`

---

## –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è

1. –ù—É–∂–Ω–∞ –ª–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è –≤ —Å–ø–∏—Å–∫–µ –∑–∞–ø—É—Å–∫–æ–≤ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ scroll? - –ü—Ä–æ—Å—Ç–æ —Å–∫—Ä–æ–ª. –°–µ–π—á–∞—Å –Ω–µ –¥–µ–ª–∞—Ç—å.
2. WebSocket/SSE –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –æ—Ç–ª–∞–¥–∫–µ –∏–ª–∏ polling? - –ù–∏ —Ç–æ –Ω–∏ –¥—Ä—É–≥–æ–µ. –û—Ç–ª–∞–¥–∫–∞ –±—É–¥–µ—Ç –≤ –≤–∏–¥–µ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –∫–∞–∂–¥—ã–π —à–∞–≥. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å—Ç–æ –±—É–¥–µ—Ç –Ω–∞–∂–∏–º–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–∞ –∫–Ω–æ–ø–∫—É.
3. –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ª–∏ –≤—ã—Å–æ—Ç—É –ø–∞–Ω–µ–ª–∏ –≤ localStorage? - –î–∞, –º–æ–∂–Ω–æ. 
4. –ú–∞–∫—Å–∏–º—É–º —Å–∫–æ–ª—å–∫–æ –∑–∞–ø—É—Å–∫–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏–∏? –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100. –ê –µ—Å–ª–∏ –¥–æ–π–¥–µ—Ç –¥–æ –∫–æ–Ω—Ü–∞ –∏ —Ç–æ —Å–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å 101 –ø–æ 200. –ø–æ—Ç–æ–º —Å 201 –ø–æ 300 –∏ —Ç.–¥.

---

**–£–¥–∞—á–∏! üöÄ**
